<html lang="en">
  <%- include('includes/header') %>

  <body>
    <div class="parent1">
      <div class="child1">
        <svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" fill="currentColor" class="bi bi-telephone-outbound mb-3" viewBox="0 0 16 16">
          <path d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511zM11 .5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V1.707l-4.146 4.147a.5.5 0 0 1-.708-.708L14.293 1H11.5a.5.5 0 0 1-.5-.5z" />
        </svg>
        <h1>Step 4</h1>
        <h2 class="display-5">Enter Receiving Address</h2>
        <h4><em>A ScriptPubKey lock needs to be formed from the hash160 of the receiving address.</em></h4>
        <div class="explanation">
          <p>Input the receiving BTC address (either a P2PKH or P2WPKH) to unstrip and reveal its public key hash160 format.</p>
        </div>
        <button class="btn btn-outline-white bg-white" data-bs-toggle="modal" data-bs-target="#learn">Read More</button>

        <div class="modal fade" id="learn" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" style="color: black">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">What is a ScriptPubKey?</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <p>From Mastering Bitcoin by Andreas Antonopoulos: A locking script is an encumbrance placed on an output, and it specifies the conditions that must be met to spend the output in the future. Historically, the locking script was called a scriptPubKey, because it usually contained a public key or bitcoin address.</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="child2-2">
        <div class="buildSPKForm">
          <form class="pubaddinput" action="/buildScriptPubKey" method="POST">
            <input id="input-field" class="pubaddinput" type="text" name="RecipientAdd2Hash160" autocomplete="off" placeholder="Enter Receiving Address" required />
            <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
          </form>
        </div>

        <form class="TXBuilderForm" action="/" method="POST">
          <div class="TXIN-Form">
            <p class="TXIN-and-Out-Labels">TXIn</p>
            <p class="form-control-TXIN-filled">Input TX ID: <span class="text-break" style="color: cyan"><%= inputTXID %></span></p>
            <p class="form-control-TXIN-filled">Input outputN: <span style="color: yellow"><%= outputN %></span></p>
            <p class="form-control-TXIN-filled">Input Value: <span style="color: yellow"><%= inputValue %></span></p>
            <input id="input-field" class="form-control-TXIN" type="text" name="ScriptSig" autocomplete="off" placeholder="ScriptSig" disabled />
          </div>

          <div class="TXOUT-Form">
            <p class="TXIN-and-Out-Labels">TXOut</p>
            <input id="input-field" class="form-control-TXOUT" type="text" name="RecipientAdd" autocomplete="off" placeholder="RecipientAdd" disabled />
            <input id="input-field" class="form-control-TXOUT" type="number" name="Amount" autocomplete="off" placeholder="Amount" disabled />
            <input id="input-field" class="form-control-TXOUT" type="text" name="SPK" autocomplete="off" placeholder="ScriptPubKey" disabled />
          </div>
        </form>
      </div>
    </div>
  </body>
  <%- include('includes/footer') %>
</html>
